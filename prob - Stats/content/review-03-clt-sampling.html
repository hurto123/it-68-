<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‡∏ö‡∏ó‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (CLT ‡πÅ‡∏•‡∏∞ Sampling Distribution)</title>
  <link rel="stylesheet" href="../styles/tokens.css">
  <link rel="stylesheet" href="../styles/components.css">
  <link rel="stylesheet" href="../styles/light.css">
  <link rel="stylesheet" href="../styles/typography-access.css">
  <link rel="stylesheet" href="../styles/print.css" media="print">
  <script defer src="../app.js"></script>
  <script defer src="../i18n/i18n.js"></script>
  <style>
    .lesson {
      display: grid;
      gap: var(--size-6);
      padding: var(--size-6);
    }
    .lesson .card {
      padding: var(--size-5);
    }
    .lab {
      display: grid;
      gap: var(--size-4);
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      align-items: start;
    }
    .lab canvas {
      width: 100%;
      height: 260px;
      border-radius: var(--radius-md);
      background: var(--surface-muted);
    }
    .lab label {
      display: flex;
      flex-direction: column;
      gap: var(--size-2);
      font-weight: 600;
    }
    .lab input,
    .lab select,
    .lab button {
      padding: var(--size-2);
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-muted);
      font: inherit;
      background: var(--surface-default);
    }
    .lab button {
      cursor: pointer;
      background: var(--accent-muted);
      color: var(--accent-strong);
      border: none;
      font-weight: 600;
    }
    .math-block {
      background: var(--surface-subtle);
      padding: var(--size-4);
      border-radius: var(--radius-md);
      line-height: 1.6;
    }
    .definition-list {
      display: grid;
      gap: var(--size-3);
    }
    .definition-list dt {
      font-weight: 700;
    }
    @media print {
      .lesson {
        padding: 0;
      }
    }
  </style>
</head>
<body data-page="review">
  <header class="site-header">
    <div>
      <p class="eyebrow">üë®‚Äçüè´ ‡∏ö‡∏ó‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3</p>
      <h1>‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (CLT ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡πà‡∏°)</h1>
      <p class="subtitle">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏π‡πà‡∏≠‡∏†‡∏¥‡∏õ‡∏£‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£</p>
    </div>
    <nav class="header-actions">
      <a class="ghost" href="../index.html#review">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡∏∏‡∏õ</a>
      <button id="print-current" class="ghost">‡∏û‡∏¥‡∏°‡∏û‡πå</button>
    </nav>
  </header>
  <main class="lesson">
    <article class="card flow">
      <p>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤! ‡πÉ‡∏ô‡∏ö‡∏ó‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏ô‡∏µ‡πâ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏°‡∏≤‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô "‡∏´‡∏±‡∏ß‡πÉ‡∏à" ‡πÅ‡∏•‡∏∞ "‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°" ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏°‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏Å‡πâ‡∏≤‡∏ß‡∏Ç‡πâ‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• "‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á" ‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡πÑ‡∏õ "‡∏≠‡∏ô‡∏∏‡∏°‡∏≤‡∏ô" ‡∏ñ‡∏∂‡∏á "‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£" ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏î‡πâ</p>
    </article>

    <article class="card flow">
      <h2>1. ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡πà‡∏° (Sampling Distribution)</h2>
      <div class="definition-list">
        <p>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£? ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏¥‡∏ö ‡πÅ‡∏ï‡πà‡∏Ñ‡∏∑‡∏≠ "‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥" (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á \(\bar{x}\) ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á \(\hat{p}\))</p>
        <p>‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î: ‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏ô‡∏≤‡∏î n ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ã‡πâ‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡∏ã‡πâ‡∏≥‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏ô‡∏±‡∏ô‡∏ï‡πå‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (\(\bar{x}\)) ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏≤‡∏ô‡∏≥‡∏Ñ‡πà‡∏≤ \(\bar{x}\) ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ô‡∏±‡πâ‡∏ô‡∏°‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ "‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á"</p>
        <p>‡∏ó‡∏≥‡πÑ‡∏°‡∏ñ‡∏∂‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç? ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏±‡∏ô‡∏ó‡∏≥‡πÉ‡∏´‡πâ "‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥" (‡∏ã‡∏∂‡πà‡∏á‡∏õ‡∏Å‡∏ï‡∏¥‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏°) ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô "‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏∏‡πà‡∏°" ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô‡πÑ‡∏î‡πâ</p>
      </div>
    </article>

    <article class="card flow">
      <h2>2. ‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ö‡∏ó‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á (Central Limit Theorem, CLT)</h2>
      <p>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏§‡∏©‡∏é‡∏µ‡∏ö‡∏ó‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏ó‡∏µ‡πà‡∏ö‡∏≠‡∏Å‡πÄ‡∏£‡∏≤‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</p>
      <blockquote>"‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÉ‡∏î‡∏Å‡πá‡∏ï‡∏≤‡∏° ‡∏ñ‡πâ‡∏≤‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (n) ‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏û‡∏≠ (n ‚â• 30) ‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (\(\bar{x}\)) ‡∏à‡∏∞‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏™‡∏°‡∏≠"</blockquote>
      <p>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏´‡∏±‡∏®‡∏à‡∏£‡∏£‡∏¢‡πå: CLT ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏õ‡∏Å‡∏ï‡∏¥‡πÅ‡∏•‡∏∞ Z-Score ‡∏°‡∏≤‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏î‡πâ ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡πÄ‡∏•‡∏¢‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£!</p>
    </article>

    <article class="card flow">
      <h2>3. ‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡πà‡∏°</h2>
      <div class="math-block">
        <h3>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (\(\bar{x}\))</h3>
        <p><strong>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢:</strong> \(\mu_{\bar{x}} = \mu\)</p>
        <p><strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô (Standard Error):</strong> \(\sigma_{\bar{x}} = \dfrac{\sigma}{\sqrt{n}}\)</p>
        <p><em>‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</em> ‡∏°‡∏µ \(\sqrt{n}\) ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏´‡∏≤‡∏£ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏¢‡∏¥‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏ç‡πà ‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏Å‡∏≤‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏£‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏à‡∏£‡∏¥‡∏á</p>
        <h3>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (\(\hat{p}\))</h3>
        <p><strong>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢:</strong> \(\mu_{\hat{p}} = p\)</p>
        <p><strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô:</strong> \(\sigma_{\hat{p}} = \sqrt{\dfrac{p(1-p)}{n}}\)</p>
      </div>
      <p>‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏•‡∏∞ CLT ‡∏ô‡∏µ‡πâ‡πÄ‡∏≠‡∏á ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô‡πÉ‡∏ô‡∏ö‡∏ó‡∏ñ‡∏±‡∏î‡πÜ ‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
    </article>

    <article class="card flow">
      <h2>CLT Simulation Lab</h2>
      <p>‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÄ‡∏ß‡∏ó‡∏°‡∏ô‡∏ï‡∏£‡πå‡∏Ç‡∏≠‡∏á CLT ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡πÇ‡∏Ñ‡πâ‡∏á‡∏õ‡∏Å‡∏ï‡∏¥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£ (‡∏Å‡∏£‡∏≤‡∏ü‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏î ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡πà‡∏á)</p>
      <div class="lab">
        <div class="control flow">
          <label for="population-shape">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£
            <select id="population-shape">
              <option value="uniform">Uniform 0-1</option>
              <option value="skewed">Skewed (Exponential)</option>
              <option value="bimodal">Bimodal</option>
            </select>
          </label>
          <label for="sample-size">‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (n)
            <input type="range" id="sample-size" min="2" max="100" step="2" value="10">
          </label>
          <span>n = <strong id="sample-size-display">10</strong></span>
          <label for="replications">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏ã‡πâ‡∏≥ (‡∏Ñ‡∏£‡∏±‡πâ‡∏á)
            <input type="number" id="replications" min="100" max="5000" step="100" value="1000">
          </label>
          <button id="simulate">‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
          <p><strong>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì:</strong> <span id="population-mean">0.50</span></p>
          <p><strong>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</strong> <span id="sample-mean">0.00</span></p>
          <p><strong>‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ö‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</strong> <span id="sample-se">0.00</span></p>
        </div>
        <canvas id="clt-chart" role="img" aria-label="‡∏Æ‡∏¥‡∏™‡πÇ‡∏ï‡πÅ‡∏Å‡∏£‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á"></canvas>
      </div>
    </article>
  </main>
  <footer class="site-footer">
    <p>¬© 2024 Stats Learning Lab</p>
    <a class="ghost" href="../index.html">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
  </footer>
  <script>
    const cltCanvas = document.getElementById('clt-chart');
    const cltCtx = cltCanvas.getContext('2d');
    const populationSelect = document.getElementById('population-shape');
    const sampleSizeInput = document.getElementById('sample-size');
    const sampleSizeDisplay = document.getElementById('sample-size-display');
    const replicationsInput = document.getElementById('replications');
    const populationMeanLabel = document.getElementById('population-mean');
    const sampleMeanLabel = document.getElementById('sample-mean');
    const sampleSeLabel = document.getElementById('sample-se');
    const simulateButton = document.getElementById('simulate');

    function resizeCltCanvas() {
      const ratio = window.devicePixelRatio || 1;
      const width = cltCanvas.clientWidth;
      const height = cltCanvas.clientHeight;
      cltCanvas.width = width * ratio;
      cltCanvas.height = height * ratio;
      cltCtx.setTransform(1, 0, 0, 1, 0, 0);
      cltCtx.scale(ratio, ratio);
    }

    function randomUniform() {
      return Math.random();
    }

    function randomExponential() {
      return -Math.log(1 - Math.random());
    }

    function randomBimodal() {
      return Math.random() < 0.5 ? Math.random() * 0.5 : 0.5 + Math.random();
    }

    function getPopulationMean(shape) {
      if (shape === 'uniform') return 0.5;
      if (shape === 'skewed') return 1;
      return 0.75;
    }

    function simulate() {
      const shape = populationSelect.value;
      const n = Number(sampleSizeInput.value);
      const replications = Number(replicationsInput.value);
      const populationMean = getPopulationMean(shape);
      const means = [];

      const generator = shape === 'uniform' ? randomUniform : (shape === 'skewed' ? randomExponential : randomBimodal);
      for (let i = 0; i < replications; i += 1) {
        let sum = 0;
        for (let j = 0; j < n; j += 1) {
          sum += generator();
        }
        means.push(sum / n);
      }

      const sampleMean = means.reduce((acc, val) => acc + val, 0) / means.length;
      const variance = means.reduce((acc, val) => acc + Math.pow(val - sampleMean, 2), 0) / (means.length - 1 || 1);
      const se = Math.sqrt(variance);

      populationMeanLabel.textContent = populationMean.toFixed(3);
      sampleMeanLabel.textContent = sampleMean.toFixed(3);
      sampleSeLabel.textContent = se.toFixed(3);

      drawHistogram(means, populationMean);
    }

    function drawHistogram(values, populationMean) {
      const bins = 24;
      const min = Math.min(...values);
      const max = Math.max(...values);
      const width = cltCanvas.clientWidth;
      const height = cltCanvas.clientHeight;
      const ratio = window.devicePixelRatio || 1;
      cltCtx.setTransform(ratio, 0, 0, ratio, 0, 0);
      cltCtx.clearRect(0, 0, cltCanvas.width, cltCanvas.height);

      const padding = 36;
      const binWidth = (max - min) / bins || 1;
      const histogram = new Array(bins).fill(0);
      values.forEach((value) => {
        const idx = Math.min(bins - 1, Math.max(0, Math.floor((value - min) / binWidth)));
        histogram[idx] += 1;
      });

      const maxCount = Math.max(...histogram) || 1;
      const xScale = (width - padding * 2) / bins;
      const yScale = (height - padding * 2) / maxCount;

      histogram.forEach((count, i) => {
        const x = padding + i * xScale;
        const barHeight = count * yScale;
        const y = height - padding - barHeight;
        cltCtx.fillStyle = 'var(--accent-strong, #4a63e7)';
        cltCtx.fillRect(x, y, Math.max(2, xScale * 0.8), barHeight);
      });

      // Draw population mean line
      const normalizedMean = (populationMean - min) / (max - min || 1);
      const clampedMean = Math.max(0, Math.min(1, normalizedMean));
      const meanX = padding + clampedMean * (width - padding * 2);
      cltCtx.fillStyle = 'var(--text-strong, #111)';
      cltCtx.fillRect(meanX, padding, 2, height - padding * 2);
      cltCtx.fillText('Œº ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£', meanX + 6, padding + 16);

      // axes
      cltCtx.strokeStyle = 'var(--border-muted, #c7d0ff)';
      cltCtx.beginPath();
      cltCtx.moveTo(padding, padding / 2);
      cltCtx.lineTo(padding, height - padding);
      cltCtx.lineTo(width - padding / 2, height - padding);
      cltCtx.stroke();
    }

    sampleSizeInput.addEventListener('input', () => {
      sampleSizeDisplay.textContent = sampleSizeInput.value;
    });

    [populationSelect, sampleSizeInput, replicationsInput].forEach((el) => el.addEventListener('input', () => {
      sampleSizeDisplay.textContent = sampleSizeInput.value;
    }));

    simulateButton.addEventListener('click', simulate);

    resizeCltCanvas();
    window.addEventListener('resize', () => {
      resizeCltCanvas();
      simulate();
    });

    simulate();
  </script>
</body>
</html>
