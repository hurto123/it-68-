<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‡∏ö‡∏ó‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏ó‡∏µ‡πà 5: ‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô</title>
  <link rel="stylesheet" href="../styles/tokens.css">
  <link rel="stylesheet" href="../styles/components.css">
  <link rel="stylesheet" href="../styles/light.css">
  <link rel="stylesheet" href="../styles/typography-access.css">
  <link rel="stylesheet" href="../styles/print.css" media="print">
  <script defer src="../app.js"></script>
  <script defer src="../i18n/i18n.js"></script>
  <style>
    .lesson {
      display: grid;
      gap: var(--size-6);
      padding: var(--size-6);
    }
    .lesson .card {
      padding: var(--size-5);
    }
    .callout {
      background: var(--surface-subtle);
      border-left: 4px solid var(--accent-strong);
      padding: var(--size-4);
      border-radius: var(--radius-md);
    }
    .steps {
      display: grid;
      gap: var(--size-3);
      counter-reset: step;
    }
    .steps li {
      list-style: none;
      padding-left: var(--size-6);
      position: relative;
    }
    .steps li::before {
      counter-increment: step;
      content: counter(step);
      position: absolute;
      left: 0;
      top: 0;
      width: 2rem;
      height: 2rem;
      border-radius: 50%;
      background: var(--accent-muted);
      color: var(--accent-strong);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
    }
    .lab {
      display: grid;
      gap: var(--size-4);
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      align-items: start;
    }
    .lab label {
      display: flex;
      flex-direction: column;
      gap: var(--size-2);
      font-weight: 600;
    }
    .lab input,
    .lab select {
      padding: var(--size-2);
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-muted);
      font: inherit;
    }
    .lab canvas {
      width: 100%;
      height: 220px;
      border-radius: var(--radius-md);
      background: var(--surface-muted);
    }
    .verdict {
      font-size: 1.25rem;
      font-weight: 700;
    }
    @media print {
      .lesson {
        padding: 0;
      }
    }
  </style>
</head>
<body data-page="review">
  <header class="site-header">
    <div>
      <p class="eyebrow">üë®‚Äçüè´ ‡∏ö‡∏ó‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏ó‡∏µ‡πà 5</p>
      <h1>‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô (‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡πÅ‡∏´‡πà‡∏á‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏û‡∏≤‡∏Å‡∏©‡∏≤ üë®‚Äç‚öñÔ∏è)</h1>
      <p class="subtitle">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏Ç‡∏≠‡∏á‡∏®‡∏≤‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏≥‡∏û‡∏¥‡∏û‡∏≤‡∏Å‡∏©‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à</p>
    </div>
    <nav class="header-actions">
      <a class="ghost" href="../index.html#review">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡∏∏‡∏õ</a>
      <button id="print-current" class="ghost">‡∏û‡∏¥‡∏°‡∏û‡πå</button>
    </nav>
  </header>
  <main class="lesson">
    <article class="card flow">
      <h2>1. ‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏Ç‡∏≠‡∏á‡∏®‡∏≤‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥: Innocent Until Proven Guilty</h2>
      <p>‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°:</p>
      <div class="callout">
        <p><strong>‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å (H<sub>0</sub>):</strong> ‡∏Ñ‡∏∑‡∏≠ "‡∏à‡∏≥‡πÄ‡∏•‡∏¢" ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏ô‡∏ô‡∏¥‡∏©‡∏ê‡∏≤‡∏ô‡∏ß‡πà‡∏≤‡∏à‡∏≥‡πÄ‡∏•‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå (H<sub>0</sub> ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á) ‡πÄ‡∏™‡∏°‡∏≠</p>
        <p><strong>‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô‡πÅ‡∏¢‡πâ‡∏á (H<sub>1</sub>):</strong> ‡∏Ñ‡∏∑‡∏≠ "‡πÇ‡∏à‡∏ó‡∏Å‡πå" ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏°‡∏≤‡∏Ñ‡∏±‡∏î‡∏Ñ‡πâ‡∏≤‡∏ô</p>
        <p><strong>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</strong> ‡∏Ñ‡∏∑‡∏≠ "‡∏û‡∏¢‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô" ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏Ñ‡∏ß‡∏£‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H<sub>0</sub> ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà</p>
        <p><strong>‡∏Ñ‡∏≥‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô:</strong> ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H<sub>0</sub> ‡∏Å‡πá‡∏ï‡πà‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡πÅ‡∏ô‡πà‡∏ô‡∏û‡∏≠‡∏à‡∏ô‡πÑ‡∏°‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡πÇ‡∏î‡∏¢‡∏ö‡∏±‡∏á‡πÄ‡∏≠‡∏¥‡∏ç‡∏´‡∏≤‡∏Å‡∏à‡∏≥‡πÄ‡∏•‡∏¢‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå‡∏à‡∏£‡∏¥‡∏á</p>
      </div>
    </article>

    <article class="card flow">
      <h2>2. ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏Ñ‡∏î‡∏µ 5 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô</h2>
      <ol class="steps">
        <li><strong>‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏î‡∏µ (State Hypotheses):</strong> ‡∏Å‡∏≥‡∏´‡∏ô‡∏î H<sub>0</sub> ‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏Å‡∏°‡∏µ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ = ‡πÅ‡∏•‡∏∞ H<sub>1</sub> ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏î‡∏µ</li>
        <li><strong>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô (Set Significance Level):</strong> ‡∏£‡∏∞‡∏ö‡∏∏ \(\alpha\) ‡πÄ‡∏ä‡πà‡∏ô 0.05 ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ô‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô (Type I Error)</li>
        <li><strong>‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô (Calculate Test Statistic):</strong> ‡∏™‡∏£‡∏∏‡∏õ‡∏û‡∏¢‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÄ‡∏ä‡πà‡∏ô Z, t, œá¬≤, F</li>
        <li><strong>‡∏ä‡∏±‡πà‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô (Determine p-value or Critical Region):</strong> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì p-value ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô</li>
        <li><strong>‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏≥‡∏û‡∏¥‡∏û‡∏≤‡∏Å‡∏©‡∏≤ (Make a Decision & Interpret):</strong> ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö p-value ‡∏Å‡∏±‡∏ö \(\alpha\) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H<sub>0</sub> ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡∏ö‡∏£‡∏¥‡∏ö‡∏ó</li>
      </ol>
    </article>

    <article class="card flow">
      <h2>3. ‡∏Ñ‡∏≥‡∏û‡∏¥‡∏û‡∏≤‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: "Fail to Reject" ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà "Accept"</h2>
      <p>‡πÄ‡∏£‡∏≤ <strong>‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢</strong> ‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤ "‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö H<sub>0</sub>" ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏û‡∏¥‡∏™‡∏π‡∏à‡∏ô‡πå‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏≥‡πÄ‡∏•‡∏¢‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏ï‡πà‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ä‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏à‡∏∞‡πÄ‡∏≠‡∏≤‡∏ú‡∏¥‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
    </article>

    <article class="card flow">
      <h2>Hypothesis Judge Lab</h2>
      <p>‡∏•‡∏≠‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ \(\alpha\), p-value ‡πÅ‡∏•‡∏∞‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÅ‡∏ö‡∏ö‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò (‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏î ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡πà‡∏á)</p>
      <div class="lab">
        <div class="control flow">
          <label for="test-direction">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
            <select id="test-direction">
              <option value="two">‡∏™‡∏≠‡∏á‡∏´‡∏≤‡∏á</option>
              <option value="left">‡∏´‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢</option>
              <option value="right">‡∏´‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤</option>
            </select>
          </label>
          <label for="alpha">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (\(\alpha\))
            <input type="number" id="alpha" value="0.05" min="0.001" max="0.2" step="0.001">
          </label>
          <label for="statistic">‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡πÄ‡∏ä‡πà‡∏ô Z ‡∏´‡∏£‡∏∑‡∏≠ t)
            <input type="number" id="statistic" value="1.92" step="0.01">
          </label>
          <label for="pvalue">p-value ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ
            <input type="number" id="pvalue" value="0.0548" step="0.0001" min="0" max="1">
          </label>
          <p><strong>‡∏Ñ‡∏≥‡∏û‡∏¥‡∏û‡∏≤‡∏Å‡∏©‡∏≤:</strong> <span id="verdict" class="verdict">‡∏¢‡∏±‡∏á‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H<sub>0</sub> ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ</span></p>
        </div>
        <canvas id="hypothesis-chart" role="img" aria-label="‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô"></canvas>
      </div>
      <p>‡∏´‡∏≤‡∏Å p-value ‚â§ Œ± ‚Üí ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H<sub>0</sub>; ‡∏´‡∏≤‡∏Å p-value > Œ± ‚Üí ‡∏¢‡∏±‡∏á‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H<sub>0</sub> ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ</p>
    </article>
  </main>
  <footer class="site-footer">
    <p>¬© 2024 Stats Learning Lab</p>
    <a class="ghost" href="../index.html">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
  </footer>
  <script>
    const hypoCanvas = document.getElementById('hypothesis-chart');
    const hypoCtx = hypoCanvas.getContext('2d');
    const testDirection = document.getElementById('test-direction');
    const alphaInput = document.getElementById('alpha');
    const statInput = document.getElementById('statistic');
    const pvalueInput = document.getElementById('pvalue');
    const verdictLabel = document.getElementById('verdict');

    function resizeHypoCanvas() {
      const ratio = window.devicePixelRatio || 1;
      const width = hypoCanvas.clientWidth;
      const height = hypoCanvas.clientHeight;
      hypoCanvas.width = width * ratio;
      hypoCanvas.height = height * ratio;
      hypoCtx.setTransform(1, 0, 0, 1, 0, 0);
      hypoCtx.scale(ratio, ratio);
    }

    function normalPdf(x) {
      return (1 / Math.sqrt(2 * Math.PI)) * Math.exp(-0.5 * x * x);
    }

    function cumulativeNormal(x) {
      return 0.5 * (1 + erf(x / Math.sqrt(2)));
    }

    function erf(x) {
      const sign = x >= 0 ? 1 : -1;
      const a1 = 0.254829592;
      const a2 = -0.284496736;
      const a3 = 1.421413741;
      const a4 = -1.453152027;
      const a5 = 1.061405429;
      const p = 0.3275911;
      const absX = Math.abs(x);
      const t = 1 / (1 + p * absX);
      const y = 1 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-absX * absX);
      return sign * y;
    }

    function updateVerdict() {
      const alpha = Number(alphaInput.value);
      const pvalue = Number(pvalueInput.value);
      const stat = Number(statInput.value);
      const direction = testDirection.value;
      const reject = pvalue <= alpha;
      verdictLabel.textContent = reject ? '‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H‚ÇÄ' : '‡∏¢‡∏±‡∏á‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H‚ÇÄ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ';
      verdictLabel.style.color = reject ? 'var(--critical-strong, #c1121f)' : 'var(--text-strong, #111)';
      drawCritical(alpha, stat, direction);
    }

    function drawCritical(alpha, stat, direction) {
      const width = hypoCanvas.clientWidth;
      const height = hypoCanvas.clientHeight;
      const ratio = window.devicePixelRatio || 1;
      hypoCtx.setTransform(ratio, 0, 0, ratio, 0, 0);
      hypoCtx.clearRect(0, 0, hypoCanvas.width, hypoCanvas.height);

      const padding = 36;
      const start = -4;
      const end = 4;
      const steps = 200;
      const xScale = (width - padding * 2) / (end - start);
      const yScale = (height - padding * 2) / 0.45;

      hypoCtx.strokeStyle = 'var(--border-muted, #c7d0ff)';
      hypoCtx.beginPath();
      hypoCtx.moveTo(padding, height - padding);
      hypoCtx.lineTo(width - padding / 2, height - padding);
      hypoCtx.stroke();

      hypoCtx.beginPath();
      for (let i = 0; i <= steps; i += 1) {
        const x = start + (i / steps) * (end - start);
        const y = normalPdf(x);
        const canvasX = padding + (x - start) * xScale;
        const canvasY = height - padding - y * yScale;
        if (i === 0) {
          hypoCtx.moveTo(canvasX, canvasY);
        } else {
          hypoCtx.lineTo(canvasX, canvasY);
        }
      }
      hypoCtx.strokeStyle = 'var(--accent-strong, #4a63e7)';
      hypoCtx.lineWidth = 2;
      hypoCtx.stroke();

      const criticals = [];
      if (direction === 'two') {
        const crit = inverseNormalCDF(1 - alpha / 2);
        criticals.push(-crit, crit);
      } else if (direction === 'left') {
        criticals.push(inverseNormalCDF(alpha));
      } else {
        criticals.push(inverseNormalCDF(1 - alpha));
      }

      criticals.forEach((crit) => {
        const x = padding + (crit - start) * xScale;
        hypoCtx.fillStyle = 'var(--critical-strong, #c1121f)';
        hypoCtx.fillRect(x - 2, height - padding - 140, 4, 120);
        hypoCtx.fillText(`critical = ${crit.toFixed(2)}`, x - 36, padding + 12);
      });

      const statX = padding + (stat - start) * xScale;
      hypoCtx.fillStyle = 'var(--text-strong, #111)';
      hypoCtx.fillRect(statX - 2, height - padding - 160, 4, 160);
      hypoCtx.fillText(`stat = ${stat.toFixed(2)}`, statX - 24, padding + 24);
    }

    function inverseNormalCDF(p) {
      return Math.sqrt(2) * invErf(2 * p - 1);
    }

    function invErf(x) {
      const a = 0.147;
      const ln = Math.log(1 - x * x);
      const term1 = 2 / (Math.PI * a) + ln / 2;
      const term2 = ln / a;
      return Math.sign(x) * Math.sqrt(Math.sqrt(term1 * term1 - term2) - term1);
    }

    [testDirection, alphaInput, statInput, pvalueInput].forEach((el) => el.addEventListener('input', updateVerdict));

    resizeHypoCanvas();
    window.addEventListener('resize', () => {
      resizeHypoCanvas();
      updateVerdict();
    });

    updateVerdict();
  </script>
</body>
</html>
