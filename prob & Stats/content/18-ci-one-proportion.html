<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <title>‡∏ö‡∏ó‡∏ó‡∏µ‡πà 18: ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡πà‡∏≤‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (p)</title>
  <link rel="stylesheet" href="../style.css" />
  <style>
    :root { color-scheme: light dark; }
    body {
      margin: 0;
      font-family: "IBM Plex Sans Thai", "Prompt", "Sarabun", system-ui, sans-serif;
      background: radial-gradient(circle at 15% 20%, rgba(0, 150, 136, 0.22), transparent 65%),
                  radial-gradient(circle at 80% 18%, rgba(0, 121, 107, 0.18), transparent 60%),
                  linear-gradient(180deg, #f0fffb 0%, #ffffff 40%, #e8fffa 100%);
      min-height: 100vh;
      color: #05312d;
    }
    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: clamp(2rem, 4vw, 3.5rem) clamp(1.4rem, 3vw, 3rem) 4rem;
      display: grid;
      gap: 2.4rem;
    }
    header.hero {
      background: linear-gradient(135deg, #00695c, #009688);
      color: #fff;
      padding: clamp(2.6rem, 4vw, 3.8rem);
      border-radius: 34px;
      box-shadow: 0 32px 64px rgba(0, 105, 92, 0.24);
      position: relative;
      overflow: hidden;
    }
    header.hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 18% 24%, rgba(255,255,255,0.34), transparent 55%),
                  radial-gradient(circle at 80% 70%, rgba(255,255,255,0.28), transparent 60%);
    }
    header.hero h1 { font-size: clamp(2.3rem, 3.2vw, 3.4rem); margin: 0 0 0.9rem; }
    header.hero p { font-size: 1.05rem; line-height: 1.8; max-width: 760px; }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255,255,255,0.18);
      border: 1px solid rgba(255,255,255,0.25);
      padding: 0.5rem 1.2rem;
      border-radius: 999px;
      font-weight: 600;
      letter-spacing: 0.02em;
      margin-bottom: 1.4rem;
    }
    section.card {
      background: rgba(255,255,255,0.92);
      border-radius: 28px;
      padding: clamp(1.9rem, 4vw, 2.6rem);
      box-shadow: 0 26px 50px rgba(0, 105, 92, 0.14);
      backdrop-filter: blur(6px);
      display: grid;
      gap: 1.25rem;
    }
    section.card h2 {
      margin: 0;
      font-size: 1.9rem;
      color: #00564c;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    article.panel {
      background: rgba(0, 150, 136, 0.08);
      border: 1px solid rgba(0, 121, 107, 0.18);
      border-radius: 22px;
      padding: 1.4rem 1.6rem;
      display: grid;
      gap: 0.7rem;
    }
    .grid-two { display: grid; gap: 1.4rem; }
    @media (min-width: 960px) { .grid-two { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    .highlight {
      border-left: 5px solid #00897b;
      padding: 1rem 1.4rem;
      background: rgba(0, 137, 123, 0.08);
      border-radius: 18px;
    }
    ul, p, li { line-height: 1.75; }
    .calculator { display: grid; gap: 1rem; }
    label span { font-weight: 600; color: #005c52; }
    input[type="number"], input[type="range"], select {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 16px;
      border: 1px solid rgba(0, 121, 107, 0.25);
      font-size: 1rem;
      background: rgba(255,255,255,0.96);
    }
    button {
      background: linear-gradient(135deg, #00695c, #00acc1);
      color: #fff;
      border: none;
      border-radius: 16px;
      padding: 0.9rem 1.3rem;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    button:hover { transform: translateY(-2px); box-shadow: 0 18px 34px rgba(0, 150, 136, 0.25); }
    .result-card {
      background: rgba(243, 255, 252, 0.96);
      border: 1px solid rgba(0, 121, 107, 0.2);
      border-radius: 20px;
      padding: 1.1rem 1.4rem;
      display: grid;
      gap: 0.4rem;
    }
    .note { font-size: 0.95rem; color: #0a524b; }
    canvas { background: rgba(237, 255, 251, 0.92); border-radius: 20px; padding: 1rem; }
  </style>
</head>
<body>
  <main>
    <header class="hero">
      <div class="badge">üë®‚Äçüè´ ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà 18 ¬∑ Proportion CI</div>
      <h1>‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡πà‡∏≤‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (p)</h1>
      <p>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤! ‡∏ô‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ñ‡∏≤‡∏°‡∏ö‡πà‡∏≠‡∏¢‡∏Ñ‡∏∑‡∏≠ ‚Äú‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô (Proportion)‚Äù ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏â‡∏û‡∏≤‡∏∞ ‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏´‡∏ß‡∏ï‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£, ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∏‡∏î, ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡πÉ‡∏ô‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡πà‡∏≤‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á.</p>
    </header>

    <section class="card">
      <h2>1. ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤: ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</h2>
      <p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏ö‡∏ó‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö ‚Äú‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ‚Äù ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å/‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡∏ä‡∏≥‡∏£‡∏∏‡∏î/‡πÑ‡∏°‡πà‡∏ä‡∏≥‡∏£‡∏∏‡∏î ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå \(p\) ‡∏ã‡∏∂‡πà‡∏á‡∏Ñ‡∏∑‡∏≠‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ô‡∏±‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏à‡∏∏‡∏î‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ \(\hat{p} = x/n\) ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà x ‡∏Ñ‡∏∑‡∏≠‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà ‚Äú‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‚Äù ‡πÅ‡∏•‡∏∞ n ‡∏Ñ‡∏∑‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á.</p>
    </section>

    <section class="card">
      <h2>2. &amp; 3. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏π‡∏ï‡∏£</h2>
      <div class="grid-two">
        <article class="panel">
          <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏û‡∏≠ (‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç \(np \ge 10\) ‡πÅ‡∏•‡∏∞ \(n(1-p) \ge 10\)) ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á \(\hat{p}\) ‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏£‡∏≤‡∏à‡∏∂‡∏á‡πÉ‡∏ä‡πâ Z-distribution ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô.</p>
          <ul>
            <li>‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏à‡∏∏‡∏î: \(\hat{p}\)</li>
            <li>Standard Error: \(\sqrt{\hat{p}(1-\hat{p})/n}\)</li>
            <li>‡∏Ñ‡πà‡∏≤‡∏ß‡∏¥‡∏Å‡∏§‡∏ï: \(Z_{\alpha/2}\) ‡∏à‡∏≤‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á Z</li>
          </ul>
        </article>
        <article class="panel">
          <h3>‡∏™‡∏π‡∏ï‡∏£‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô</h3>
          <p class="math">\[ CI = \hat{p} \pm Z_{\alpha/2} \sqrt{\frac{\hat{p}(1-\hat{p})}{n}} \]</p>
          <p>‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: ‚Äú‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡πà‡∏≤ ¬± ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‚Äù</p>
        </article>
      </div>
    </section>

    <section class="card">
      <h2>4. ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÉ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</h2>
      <div class="highlight">
        <p>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö \(\hat{p}\), ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô ‡∏´‡∏≤‡∏Å n ‡πÉ‡∏´‡∏ç‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡∏ï‡πà‡∏≥‡∏•‡∏á ‡∏ä‡πà‡∏ß‡∏á‡∏à‡∏∞‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á ‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏Å‡∏±‡∏ô ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡∏ä‡πà‡∏ß‡∏á‡∏à‡∏∞‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô.</p>
        <p>‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç \(np\) ‡πÅ‡∏•‡∏∞ \(n(1-p)\) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Z-distribution ‡∏™‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏°‡∏ú‡∏•.</p>
      </div>
    </section>

    <section class="card">
      <h2>5. ‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô (Exit Poll)</h2>
      <article class="panel">
        <p>‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡πÇ‡∏ó‡∏£‡∏ó‡∏±‡∏®‡∏ô‡πå‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á 900 ‡∏Ñ‡∏ô ‡∏û‡∏ö‡∏ß‡πà‡∏≤ 486 ‡∏Ñ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ô‡∏≤‡∏¢ A ‚Üí \(\hat{p} = 486/900 = 0.54\)</p>
        <div class="steps">
          <p>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô 95% ‚áí \(Z_{0.025} = 1.96\)</p>
          <p>SE = \(\sqrt{0.54(1-0.54)/900} = 0.0166\)</p>
          <p>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ú‡∏∑‡πà‡∏≠ = 1.96 √ó 0.0166 = 0.0325</p>
          <p>CI = 0.54 ¬± 0.0325 ‚áí (0.5075, 0.5725)</p>
        </div>
        <p class="note">‡πÅ‡∏õ‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°: ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô 95% ‡∏ß‡πà‡∏≤‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ô‡∏≤‡∏¢ A ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 50.75% ‡∏ñ‡∏∂‡∏á 57.25%</p>
      </article>
    </section>

    <section class="card">
      <h2>6. ‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</h2>
      <p>‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡∏≠‡∏á‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå.</p>
      <div class="calculator">
        <label><span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (x)</span>
          <input type="number" id="success" value="486" min="0" />
        </label>
        <label><span>‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (n)</span>
          <input type="number" id="sample" value="900" min="1" />
        </label>
        <label><span>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô (%)</span>
          <input type="range" id="confidence" min="80" max="99" value="95" />
        </label>
        <div class="note">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <strong id="confValue">95%</strong></div>
        <button id="calcBtn">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ä‡πà‡∏ß‡∏á</button>
      </div>
      <div class="result-card" id="result" style="display:none"></div>
      <canvas id="ciChart" height="250"></canvas>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jstat@1.9.5/dist/jstat.min.js"></script>
  <script>
    const successEl = document.getElementById('success');
    const sampleEl = document.getElementById('sample');
    const confEl = document.getElementById('confidence');
    const confValueEl = document.getElementById('confValue');
    const resultEl = document.getElementById('result');
    const calcBtn = document.getElementById('calcBtn');
    const ctx = document.getElementById('ciChart').getContext('2d');
    let chart;

    function updateCI() {
      const x = Math.max(Number(successEl.value), 0);
      const n = Math.max(Number(sampleEl.value), 1);
      const confidence = Number(confEl.value) / 100;
      confValueEl.textContent = `${(confidence * 100).toFixed(0)}%`;
      successEl.max = n;
      const pHat = Math.min(x / n, 1);
      const alpha = 1 - confidence;
      const critical = jStat.normal.inv(1 - alpha / 2, 0, 1);
      const se = Math.sqrt(Math.max(pHat * (1 - pHat) / n, 0));
      const margin = critical * se;
      const lower = Math.max(pHat - margin, 0);
      const upper = Math.min(pHat + margin, 1);

      resultEl.style.display = 'grid';
      resultEl.innerHTML = `
        <strong>‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô ${(confidence * 100).toFixed(1)}%</strong>
        <span>\u005Chat{p} = ${(pHat * 100).toFixed(2)}% ¬∑ SE = ${(se * 100).toFixed(2)}%</span>
        <span>‡∏Ñ‡πà‡∏≤‡∏ß‡∏¥‡∏Å‡∏§‡∏ï Z = ${critical.toFixed(3)}</span>
        <span>‡∏ä‡πà‡∏ß‡∏á = [${(lower * 100).toFixed(2)}%, ${(upper * 100).toFixed(2)}%]</span>
        <span class="note">‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°: ‡πÄ‡∏£‡∏≤‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à ${(confidence * 100).toFixed(1)}% ‡∏ß‡πà‡∏≤‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ</span>
      `;

      const points = 160;
      const xs = [];
      const base = [];
      const fill = [];
      const range = Math.max(4 * se, margin * 1.3 + se);
      for (let i = 0; i <= points; i += 1) {
        const p = Math.max(Math.min(pHat - range + (2 * range * i) / points, 1), 0);
        xs.push((p * 100).toFixed(2));
        const standardized = (p - pHat) / se;
        const density = se === 0 ? 0 : jStat.normal.pdf(standardized, 0, 1) / se;
        base.push(density);
        fill.push(p >= lower && p <= upper ? density : null);
      }

      if (chart) chart.destroy();
      chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: xs,
          datasets: [
            {
              label: '‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á \u005Chat{p}',
              data: base,
              borderColor: 'rgba(0,150,136,0.45)',
              backgroundColor: 'rgba(0,150,136,0.08)',
              borderWidth: 2.6,
              pointRadius: 0,
              tension: 0.25
            },
            {
              label: '‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô',
              data: fill,
              borderColor: 'rgba(0,172,193,0.9)',
              backgroundColor: 'rgba(0,172,193,0.28)',
              borderWidth: 3,
              pointRadius: 0,
              tension: 0.25,
              fill: true
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { labels: { color: '#00564c' } },
            tooltip: {
              callbacks: {
                label: (ctx) => `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô ‚âà ${Number(ctx.raw).toFixed(4)}`
              }
            }
          },
          scales: {
            x: {
              ticks: { color: '#00564c', maxRotation: 0 },
              title: { display: true, text: '‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ (%)', color: '#00564c' }
            },
            y: {
              ticks: { color: '#00564c' },
              title: { display: true, text: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô', color: '#00564c' }
            }
          }
        }
      });
    }

    [successEl, sampleEl].forEach(el => el.addEventListener('input', updateCI));
    confEl.addEventListener('input', updateCI);
    calcBtn.addEventListener('click', updateCI);
    updateCI();
  </script>
</body>
</html>
