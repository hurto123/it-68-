<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏π‡∏ï‡∏£ ‚Äî CLT: xÃÑ & pÃÇ (Sampling Distributions) | ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</title>
  <meta name="description" content="Central Limit Theorem (CLT) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á xÃÑ ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á pÃÇ: ‡∏ó‡∏µ‡πà‡∏°‡∏≤ ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≤‡∏ü‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ï‡πâ‡πÇ‡∏Ñ‡πâ‡∏á">
  <meta name="keywords" content="CLT, sampling distribution, standard error, sample mean, sample proportion, xbar, phat, ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥">
  <meta name="author" content="‡∏ó‡∏µ‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥">

  <!-- MathJax -->
  <script>
    window.MathJax = {
      tex: {inlineMath: [['\\(','\\)'], ['$', '$']]},
      loader: {load: ['[tex]/physics']},
      tex2jax: {inlineMath: [['\\(','\\)'], ['$', '$']]}
    };
  </script>
  <script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    :root{
      --bg:#0b0c10; --surface:#141821; --surface-2:#10131a; --text:#e8e8ea; --muted:#9aa0a6;
      --accent:#79a7ff; --accent-2:#4f8cff; --ok:#15b588; --warn:#f59e0b; --danger:#ef4444;
      --border:#242a35; --shadow:0 10px 30px rgba(0,0,0,.35); --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      background:linear-gradient(180deg,#0b0c10 0%,#0f1117 100%);
      color:var(--text);
      font:16px/1.75 system-ui,"Noto Sans Thai",ui-sans-serif,-apple-system,Segoe UI,Roboto,"Noto Sans",Arial,sans-serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:980px;margin:0 auto;padding:1.2rem}
    header{
      position:relative;overflow:hidden;
      background:
        radial-gradient(1000px 400px at 10% -10%, rgba(79,140,255,.18), transparent 60%),
        radial-gradient(800px 320px at 90% -20%, rgba(21,181,136,.14), transparent 60%),
        var(--surface);
      border-bottom:1px solid var(--border);
    }
    .brand{display:flex;align-items:center;gap:.8rem}
    .logo{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,#4f8cff,#15b588);box-shadow:0 8px 24px rgba(79,140,255,.35)}
    .brand h1{margin:0;font-size:1.1rem}
    nav.breadcrumb{margin-top:.6rem;color:var(--muted);font-size:.9rem}
    nav.breadcrumb a{color:#cfe0ff}

    .title{
      display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;flex-wrap:wrap;
      padding:.6rem 0 1.0rem;
    }
    .title h2{margin:.2rem 0;font-size:1.8rem}
    .badge{display:inline-flex;align-items:center;gap:.4rem;border:1px solid var(--border);background:#0e1220;border-radius:999px;padding:.25rem .6rem;color:#cfe0ff;font-size:.85rem}
    .btn{
      appearance:none;border:none;cursor:pointer;padding:.6rem .85rem;border-radius:12px;font-weight:700;
      background:linear-gradient(135deg,var(--accent-2),#7fb0ff);color:#071021;box-shadow:0 10px 20px rgba(79,140,255,.35)
    }
    .btn.secondary{background:#0f1320;color:var(--text);border:1px solid var(--border);box-shadow:none}
    .btn.ghost{background:#0e1220;color:#cfe0ff;border:1px solid var(--border);box-shadow:none}

    .grid{display:grid;grid-template-columns:1fr;gap:1rem}
    .card{
      background:linear-gradient(180deg,var(--surface) 0%,var(--surface-2) 100%);
      border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:1rem
    }
    .hl{background:#0f2237;border-left:4px solid var(--accent-2);padding:.8rem;border-radius:12px}
    .ok{background:#0f231c;border-left:4px solid var(--ok);padding:.8rem;border-radius:12px}
    .warn{background:#2a160c;border-left:4px solid var(--warn);padding:.8rem;border-radius:12px}
    .muted{color:var(--muted)}
    h3{margin:.2rem 0}
    .two{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
    @media (max-width:860px){.two{grid-template-columns:1fr}}
    table{width:100%;border-collapse:collapse}
    th,td{border:1px solid var(--border);padding:.5rem;vertical-align:top}
    th{background:#111824}
    .checklist li{margin:.2rem 0}
    @keyframes pop{from{transform:translateY(8px);opacity:0}to{transform:translateY(0);opacity:1}}
    .pop{animation:pop .6s cubic-bezier(.2,.7,.2,1)}
    @media (prefers-reduced-motion:reduce){.pop{animation:none}}

    .svgbox{background:#0c1020;border:1px solid var(--border);border-radius:14px;padding:.6rem;overflow:auto}
    footer{border-top:1px solid var(--border);background:#0d1119;margin-top:1rem}
    .footnav{display:flex;gap:.6rem;flex-wrap:wrap;margin-top:.4rem}
    .footnav a{color:#cfe0ff}

    input[type="number"]{
      width:140px;background:#0b0f19;color:#e8e8ea;border:1px solid var(--border);border-radius:10px;padding:.35rem .5rem
    }
    .pill{border:1px solid var(--border);background:#0a0e19;border-radius:999px;padding:.2rem .55rem;font-size:.8rem;color:#cfe0ff}
    .actions{display:flex;gap:.5rem;flex-wrap:wrap}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1>‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏π‡∏ï‡∏£ ‚Äî CLT: xÃÑ & pÃÇ (Sampling Distributions)</h1>
        <span class="badge">‡∏ö‡∏ó 9 ‚Ä¢ Sampling & CLT</span>
      </div>
      <nav class="breadcrumb" aria-label="breadcrumb">
        <a href="../index.html">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a> ‚Ä∫ <a href="../index.html#formula">‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏π‡∏ï‡∏£</a> ‚Ä∫ <span class="muted">CLT: xÃÑ & pÃÇ</span>
      </nav>
      <div class="title">
        <div>
          <h2>Central Limit Theorem ‚Äî ‡∏à‡∏≤‡∏Å ‚Äú‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏¥‡∏ö‚Äù ‡∏™‡∏π‡πà ‚Äú‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‚Äù üöÄ</h2>
          <p class="muted">‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏π‡∏ï‡∏£‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á \\(\\bar{x}\\) ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á \\(\\hat{p}\\) + ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç & ‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà</p>
        </div>
        <div class="actions">
          <button class="btn" onclick="window.print()">üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå/‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å PDF</button>
          <a class="btn secondary" href="../lesson09.html">‡πÄ‡∏õ‡∏¥‡∏î‡∏ö‡∏ó 9</a>
          <a class="btn ghost" href="z-score.html">‚Üê Z-Score</a>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap grid" role="main">
    <!-- Objectives / Prereq -->
    <section class="card pop">
      <div class="two">
        <div>
          <h3>üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</h3>
          <ul>
            <li>‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î CLT ‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà ‚Äú‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á/‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‚Äù ‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á‡πÉ‡∏Å‡∏•‡πâ‡∏õ‡∏Å‡∏ï‡∏¥</li>
            <li>‡πÉ‡∏ä‡πâ Standard Error (SE) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á \\(\\bar{x}\\) ‡πÅ‡∏•‡∏∞ \\(\\hat{p}\\)</li>
            <li>‡πÅ‡∏Å‡πâ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ã‡πâ‡∏≤‡∏¢/‡∏Ç‡∏ß‡∏≤/‡∏ä‡πà‡∏ß‡∏á‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏à‡∏£‡∏¥‡∏á</li>
          </ul>
        </div>
        <div>
          <h3>üß≠ Prerequisites</h3>
          <ul>
            <li>‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢‡∏Å‡∏±‡∏ö Normal/Z-Score, ‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ï‡πâ‡πÇ‡∏Ñ‡πâ‡∏á</li>
            <li>‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å \\(\\mu,\\sigma\\) ‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£ ‡πÅ‡∏•‡∏∞‡∏ô‡∏¥‡∏¢‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô \\(p\\)</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Intuition & Symbols -->
    <section class="card pop">
      <h3>1) ‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Ç‡∏≠‡∏á‡∏™‡∏π‡∏ï‡∏£ (‡∏™‡∏±‡∏ç‡∏ä‡∏≤‡∏ï‡∏ç‡∏≤‡∏ì) üîç</h3>
      <p><strong>CLT</strong> ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏ß‡πà‡∏≤: ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÅ‡∏ï‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‚Äú‡πÉ‡∏´‡∏ç‡πà‡∏û‡∏≠‚Äù ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏≠‡∏¢‡πà‡∏≤‡∏á \\(\\bar{x}\\) ‡∏´‡∏£‡∏∑‡∏≠ \\(\\hat{p}\\) ‡∏à‡∏∞ ‚Äú‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏õ‡∏Å‡∏ï‡∏¥‚Äù ‡πÄ‡∏™‡∏°‡∏≠</p>
      <div class="hl">
        <p><strong>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong> (‡∏£‡∏π‡πâ \\(\\sigma\\))</p>
        $$\\boxed{\\bar{X} \\overset{\\text{approx}}\\sim \\mathcal{N}\\!\\Big(\\mu,\\; \\frac{\\sigma^2}{n}\\Big)}\\quad\\Rightarrow\\quad
          Z = \\frac{\\bar{x}-\\mu}{\\sigma/\\sqrt{n}}$$
        <p><strong>‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong></p>
        $$\\boxed{\\hat{P} \\overset{\\text{approx}}\\sim \\mathcal{N}\\!\\Big(p,\\; \\frac{p(1-p)}{n}\\Big)}\\quad\\Rightarrow\\quad
          Z = \\frac{\\hat{p}-p}{\\sqrt{p(1-p)/n}}$$
      </div>

      <h3 style="margin-top:.8rem">2) ‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‚úçÔ∏è</h3>
      <table>
        <tbody>
          <tr><th>\\(\\mu,\\sigma\\)</th><td>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢/‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ö‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á ‚Äú‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‚Äù</td></tr>
          <tr><th>\\(n\\)</th><td>‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</td></tr>
          <tr><th>\\(\\bar{x}\\)</th><td>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á ‚Äú‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‚Äù</td></tr>
          <tr><th>\\(p\\)</th><td>‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£</td></tr>
          <tr><th>\\(\\hat{p}\\)</th><td>‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á ‚Äú‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‚Äù = \\(X/n\\)</td></tr>
          <tr><th>SE</th><td>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥: \\(\\sigma/\\sqrt{n}\\) ‡∏´‡∏£‡∏∑‡∏≠ \\(\\sqrt{p(1-p)/n}\\)</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Method & Steps & Why -->
    <section class="card pop">
      <div class="two">
        <div>
          <h3>3) ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥‡πÇ‡∏î‡∏¢‡∏™‡∏£‡∏∏‡∏õ üß†</h3>
          <ol>
            <li>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å: \\(\\bar{x}\\) (‡∏£‡∏π‡πâ \\(\\sigma\\)) ‡∏´‡∏£‡∏∑‡∏≠ \\(\\hat{p}\\)</li>
            <li>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì SE ‡πÅ‡∏•‡∏∞ Z ‡∏ï‡∏≤‡∏°‡∏™‡∏π‡∏ï‡∏£</li>
            <li>‡πÉ‡∏ä‡πâ \\(\\Phi(z)\\) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡πâ‡∏≤‡∏¢ ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ã‡πâ‡∏≤‡∏¢/‡∏Ç‡∏ß‡∏≤/‡∏ä‡πà‡∏ß‡∏á</li>
          </ol>
        </div>
        <div>
          <h3>4) ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î üß©</h3>
          <ul>
            <li><strong>\\(\\bar{x}\\):</strong> \\(SE=\\sigma/\\sqrt{n}\\), \\(z=(\\bar{x}-\\mu)/SE\\)</li>
            <li><strong>\\(\\hat{p}\\):</strong> \\(SE=\\sqrt{p(1-p)/n}\\), \\(z=(\\hat{p}-p)/SE\\)</li>
            <li>‡∏ä‡πà‡∏ß‡∏á: \\(P(a\\le \\bar{X}\\le b)=\\Phi(z_b)-\\Phi(z_a)\\) (‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö \\(\\hat{P}\\))</li>
          </ul>
          <div class="ok"><strong>‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏û‡∏≠‡πÉ‡∏ä‡πâ:</strong> ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö \\(\\hat{p}\\) ‡πÇ‡∏î‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ \\(np\\ge 5\\) ‡πÅ‡∏•‡∏∞ \\(n(1-p)\\ge 5\\) (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏≠‡∏≤‡∏à‡∏ï‡πà‡∏≤‡∏á‡∏ö‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏ï‡∏≥‡∏£‡∏≤)</div>
        </div>
      </div>

      <h3 style="margin-top:.8rem">5) ‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏´‡∏ô üß±</h3>
      <ul>
        <li>SE ‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥: \\(\\operatorname{Var}(\\bar{X})=\\sigma^2/n\\), \\(\\operatorname{Var}(\\hat{P})=p(1-p)/n\\)</li>
        <li>CLT ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£ ‚Äú‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢/‡∏ô‡∏±‡∏ö‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‚Äù ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏õ‡∏Å‡∏ï‡∏¥</li>
      </ul>

      <h3 style="margin-top:.8rem">6) ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏≠‡∏ö üîß</h3>
      <ul>
        <li>‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ \\(\\sigma\\) ‡πÅ‡∏•‡∏∞ \\(n\\) ‡πÄ‡∏•‡πá‡∏Å ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ t-distribution ‡πÅ‡∏ó‡∏ô</li>
        <li>‡∏ñ‡πâ‡∏≤‡∏™‡∏∏‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡∏Ñ‡∏∑‡∏ô) ‡πÅ‡∏•‡∏∞ \\(n\\) ‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö \\(N\\) ‡∏≠‡∏≤‡∏à‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ FPC</li>
      </ul>
    </section>

    <!-- Examples -->
    <section class="card pop">
      <div class="two">
        <div>
          <h3>üß™ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏±‡πâ‡∏ô (\\(\\bar{x}\\))</h3>
          <p><strong>‡πÇ‡∏à‡∏ó‡∏¢‡πå:</strong> ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£ \\(\\mu=500,\\;\\sigma=80\\). ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á \\(n=64\\). ‡∏´‡∏≤ \\(P(\\bar{X}\\le 520)\\).</p>
          <ul>
            <li>\\(SE=80/\\sqrt{64}=10\\), \\(z=(520-500)/10=2\\)</li>
            <li>\\(P=\\Phi(2)\\approx 0.9772\\)</li>
          </ul>
        </div>
        <div>
          <h3>üßÆ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏°‡∏Ç‡∏±‡πâ‡∏ô (\\(\\hat{p}\\))</h3>
          <p><strong>‡πÇ‡∏à‡∏ó‡∏¢‡πå:</strong> ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏°‡∏µ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏£‡∏¥‡∏á \\(p=0.4\\). ‡∏™‡∏∏‡πà‡∏° \\(n=200\\). ‡∏´‡∏≤ \\(P(\\hat{P}\\ge 0.45)\\).</p>
          <ol>
            <li>\\(SE=\\sqrt{0.4\\cdot 0.6/200}\\approx 0.0346\\)</li>
            <li>\\(z=(0.45-0.4)/0.0346\\approx 1.445\\)</li>
            <li>\\(P=1-\\Phi(1.445)\\) (‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)</li>
          </ol>
        </div>
      </div>
    </section>

    <!-- Pitfalls & Checklist -->
    <section class="card pop">
      <div class="two">
        <div>
          <h3>‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢</h3>
          <ul>
            <li>‡πÉ‡∏ä‡πâ \\(\\sigma\\) ‡∏ú‡∏¥‡∏î (‡πÄ‡∏≠‡∏≤ \\(s\\) ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á)</li>
            <li>‡∏•‡∏∑‡∏°‡∏´‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢ \\(\\sqrt{n}\\) ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏ì‡∏µ \\(\\hat{p}\\) ‡πÉ‡∏ä‡πâ SE ‡∏ú‡∏¥‡∏î</li>
            <li>‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö \\(\\hat{p}\\) ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç \\(np\\) ‡πÅ‡∏•‡∏∞ \\(n(1-p)\\)</li>
          </ul>
        </div>
        <div>
          <h3>‚úÖ ‡πÄ‡∏ä‡πá‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á</h3>
          <ul class="checklist">
            <li>‡∏à‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ SE ‡πÑ‡∏î‡πâ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</li>
            <li>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡πâ‡∏≤‡∏¢/‡∏Ç‡∏ß‡∏≤/‡∏ä‡πà‡∏ß‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
            <li>‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Å‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏à‡∏£‡∏¥‡∏á</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Calculator + Graph -->
    <section class="card pop">
      <h3>üß∑ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç CLT (xÃÑ & pÃÇ) + ‡∏Å‡∏£‡∏≤‡∏ü‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ï‡πâ‡πÇ‡∏Ñ‡πâ‡∏á</h3>

      <div class="two" role="group" aria-label="CLT calc">
        <div>
          <p><span class="pill">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥:</span>
            <label><input type="radio" name="stat" value="xbar" checked> \\(\\bar{x}\\) (‡∏£‡∏π‡πâ \\(\\sigma\\))</label>
            <label style="margin-left:.6rem"><input type="radio" name="stat" value="phat"> \\(\\hat{p}\\)</label>
          </p>

          <div id="xbarInputs">
            <p>
              <label>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£ \\(\\mu\\)<br>
                <input type="number" id="mu" value="500" step="0.001">
              </label>
            </p>
            <p>
              <label>‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ö‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£ \\(\\sigma\\) ( &gt; 0 )<br>
                <input type="number" id="sd" value="80" min="0.0001" step="0.001">
              </label>
            </p>
            <p>
              <label>‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á \\(n\\) (‚â• 1)<br>
                <input type="number" id="n" value="64" min="1" step="1">
              </label>
            </p>
          </div>

          <div id="phatInputs" style="display:none">
            <p>
              <label>‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£ \\(p\\) (0‚Äì1)<br>
                <input type="number" id="ppop" value="0.40" min="0" max="1" step="0.0001">
              </label>
            </p>
            <p>
              <label>‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á \\(n\\) (‚â• 1)<br>
                <input type="number" id="n2" value="200" min="1" step="1">
              </label>
            </p>
          </div>

          <hr style="border-color:var(--border)">

          <p><span class="pill">‡πÇ‡∏´‡∏°‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà:</span>
            <label><input type="radio" name="modeArea" value="left" checked> ‡∏ã‡πâ‡∏≤‡∏¢: P(‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‚â§ a)</label>
            <label style="margin-left:.6rem"><input type="radio" name="modeArea" value="right"> ‡∏Ç‡∏ß‡∏≤: P(‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‚â• a)</label>
            <label style="margin-left:.6rem"><input type="radio" name="modeArea" value="between"> ‡∏ä‡πà‡∏ß‡∏á: P(a ‚â§ ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‚â§ b)</label>
          </p>

          <div id="oneSide">
            <label>a = <input type="number" id="aVal" value="520" step="0.001"></label>
          </div>
          <div id="twoSide" style="display:none">
            <label>a = <input type="number" id="aVal2" value="480" step="0.001"></label>
            <label style="margin-left:.6rem">b = <input type="number" id="bVal2" value="520" step="0.001"></label>
          </div>

          <p class="actions" style="margin-top:.6rem">
            <button class="btn" id="calcBtn">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
            <button class="btn ghost" id="fillExamples">‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
          </p>
        </div>

        <div>
          <h4>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h4>
          <div class="hl" id="resultBox">‚Äî</div>
          <p class="muted" style="margin-top:.5rem">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì CDF ‡∏Ç‡∏≠‡∏á Standard Normal (‡πÅ‡∏°‡πà‡∏ô‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</p>
        </div>
      </div>

      <div style="margin-top:1rem">
        <h3>üìà ‡∏Å‡∏£‡∏≤‡∏ü‡πÇ‡∏Ñ‡πâ‡∏á (‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)</h3>
        <div class="svgbox" id="chartBox" aria-label="‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏à‡∏Å‡πÅ‡∏à‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ + ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà"></div>
      </div>
    </section>

    <!-- Next -->
    <section class="card pop">
      <h3>üîó ‡πÑ‡∏õ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å/‡∏Ñ‡∏ß‡∏¥‡∏ã</h3>
      <div class="actions">
        <a class="btn ghost" href="../practice/lesson09.html" aria-disabled="true" title="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏°‡∏µ">‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô (‡∏ö‡∏ó 9)</a>
        <a class="btn ghost" href="../quiz/lesson09.html" aria-disabled="true" title="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏°‡∏µ">‡∏Ñ‡∏ß‡∏¥‡∏ã‡∏ó‡πâ‡∏≤‡∏¢‡∏ö‡∏ó (‡∏ö‡∏ó 9)</a>
        <a class="btn secondary" href="../index.html#formula">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏π‡∏ï‡∏£</a>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <div class="footnav">
        <a href="../index.html">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
        <a href="../glossary.html" aria-disabled="true">Glossary</a>
        <a href="../about.html" aria-disabled="true">About</a>
        <a href="../credits.html" aria-disabled="true">Credits</a>
      </div>
      <p class="muted">¬© ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (‡πÑ‡∏ó‡∏¢). ‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏õ‡πá‡∏ô PDF</p>
    </div>
  </footer>

  <script>
    // ===== UI toggles
    const statRadios = document.getElementsByName('stat');
    const xbarInputs = document.getElementById('xbarInputs');
    const phatInputs = document.getElementById('phatInputs');
    statRadios.forEach(r=>{
      r.addEventListener('change', ()=>{
        const v = document.querySelector('input[name="stat"]:checked').value;
        xbarInputs.style.display = (v==='xbar') ? '' : 'none';
        phatInputs.style.display = (v==='phat') ? '' : 'none';
        drawChart();
      });
    });

    const modeArea = document.getElementsByName('modeArea');
    const oneSide = document.getElementById('oneSide');
    const twoSide = document.getElementById('twoSide');
    modeArea.forEach(r=>{
      r.addEventListener('change', ()=>{
        const v = document.querySelector('input[name="modeArea"]:checked').value;
        oneSide.style.display = (v==='left' || v==='right') ? '' : 'none';
        twoSide.style.display = (v==='between') ? '' : 'none';
        drawChart();
      });
    });

    // ===== Math helpers (Standard Normal)
    const SQRT2PI = Math.sqrt(2*Math.PI);
    function pdfStd(z){ return Math.exp(-0.5*z*z)/SQRT2PI; }
    // erf approx (Abramowitz & Stegun 7.1.26)
    function erf(x){
      const sign = x<0?-1:1; x = Math.abs(x);
      const a1=0.254829592, a2=-0.284496736, a3=1.421413741, a4=-1.453152027, a5=1.061405429, p=0.3275911;
      const t = 1/(1+p*x);
      const y = 1 - (((((a5*t+a4)*t)+a3)*t+a2)*t+a1)*t*Math.exp(-x*x);
      return sign*y;
    }
    function cdfStd(z){ return 0.5*(1+erf(z/Math.SQRT2)); } // Œ¶(z)

    function fmt(v){
      if(!isFinite(v)) return 'NaN';
      if(Math.abs(v)===0) return '0';
      if(Math.abs(v)<1e-6) return v.toExponential(2);
      return (+v).toFixed(6).replace(/0+$/,'').replace(/\.$/,'');
    }

    function getParams(){
      const stat = document.querySelector('input[name="stat"]:checked').value;
      if(stat==='xbar'){
        const mu = Number(document.getElementById('mu').value);
        const sd = Number(document.getElementById('sd').value);
        const n  = Number(document.getElementById('n').value);
        if(!(sd>0 && n>=1)) return {err:'œÉ ‡∏ï‡πâ‡∏≠‡∏á > 0 ‡πÅ‡∏•‡∏∞ n ‚â• 1'};
        const mean = mu;
        const se   = sd/Math.sqrt(n);
        return {stat, mean, se, ok:true};
      }else{
        const p = Number(document.getElementById('ppop').value);
        const n = Number(document.getElementById('n2').value);
        if(!(p>=0 && p<=1 && n>=1)) return {err:'p ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 0‚Äì1 ‡πÅ‡∏•‡∏∞ n ‚â• 1'};
        const mean = p;
        const se = Math.sqrt(p*(1-p)/n);
        return {stat, mean, se, ok:true, p, n};
      }
    }

    function calc(){
      const res = document.getElementById('resultBox');
      const pars = getParams();
      if(!pars.ok){ res.textContent = pars.err; return; }

      const mean = pars.mean, se = pars.se;
      if(!(se>0)){ res.textContent='SE ‡∏ï‡πâ‡∏≠‡∏á > 0'; return; }

      const mode = document.querySelector('input[name="modeArea"]:checked').value;
      let text='';
      if(mode==='left'){
        const a = Number(document.getElementById('aVal').value);
        const z = (a - mean)/se;
        const p = cdfStd(z);
        text = `SE = ${fmt(se)} ‚Ä¢ Z = ${(fmt(z))}<br> P(‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‚â§ ${fmt(a)}) = Œ¶(${fmt(z)}) = <strong>${fmt(p)}</strong>`;
      }else if(mode==='right'){
        const a = Number(document.getElementById('aVal').value);
        const z = (a - mean)/se;
        const p = 1 - cdfStd(z);
        text = `SE = ${fmt(se)} ‚Ä¢ Z = ${(fmt(z))}<br> P(‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‚â• ${fmt(a)}) = 1 - Œ¶(${fmt(z)}) = <strong>${fmt(p)}</strong>`;
      }else{
        const a = Number(document.getElementById('aVal2').value);
        const b = Number(document.getElementById('bVal2').value);
        if(a>b){ res.textContent='‡∏ä‡πà‡∏ß‡∏á‡∏ú‡∏¥‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ a ‚â§ b'; return; }
        const za = (a - mean)/se, zb = (b - mean)/se;
        const p = cdfStd(zb) - cdfStd(za);
        text = `SE = ${fmt(se)}<br> P(${fmt(a)} ‚â§ ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‚â§ ${fmt(b)}) = Œ¶(${fmt(zb)}) - Œ¶(${fmt(za)}) = <strong>${fmt(p)}</strong>`;
      }
      res.innerHTML = text;
      if(window.MathJax?.typeset) MathJax.typeset();

      drawChart();
    }
    document.getElementById('calcBtn').addEventListener('click', calc);

    document.getElementById('fillExamples').addEventListener('click', ()=>{
      // ‡πÄ‡∏ï‡∏¥‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á 2 ‡πÇ‡∏´‡∏°‡∏î: default ‡πÉ‡∏™‡πà‡∏Ç‡∏≠‡∏á xÃÑ
      document.querySelector('input[name="stat"][value="xbar"]').checked = true;
      xbarInputs.style.display='';
      phatInputs.style.display='none';
      document.getElementById('mu').value = 500;
      document.getElementById('sd').value = 80;
      document.getElementById('n').value  = 64;
      document.querySelector('input[name="modeArea"][value="left"]').checked = true;
      oneSide.style.display=''; twoSide.style.display='none';
      document.getElementById('aVal').value = 520;

      document.getElementById('resultBox').textContent='‚Äî';
      drawChart();
    });

    // ===== Chart (Normal with mean & SE) + shaded area
    function drawChart(){
      const box = document.getElementById('chartBox');
      const pars = getParams();
      if(!pars.ok){ box.innerHTML=''; return; }
      const mean = pars.mean, se = pars.se;
      const mode = document.querySelector('input[name="modeArea"]:checked').value;

      const a = Number(document.getElementById('aVal')?.value ?? 0);
      const a2 = Number(document.getElementById('aVal2')?.value ?? -1);
      const b2 = Number(document.getElementById('bVal2')?.value ?? 1);

      const W=720, H=300, pad={l:40,r:10,t:10,b:40};
      const span = Math.max(4*se, 1e-6); // ‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏ì‡∏µ SE ‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å
      const xMin = mean - 4*se, xMax = mean + 4*se;
      const yMax = pdfStd(0)/se; // ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà x=mean

      const scaleX = x => pad.l + (x - xMin) / (xMax - xMin) * (W - pad.l - pad.r);
      const scaleY = y => (H - pad.b) - y / yMax * (H - pad.t - pad.b);

      // ‡πÄ‡∏™‡πâ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏á
      let path = '';
      const n=220;
      for(let i=0;i<=n;i++){
        const x = xMin + (xMax - xMin)*i/n;
        const z = (x - mean)/se;
        const y = pdfStd(z)/se;
        const X = scaleX(x), Y = scaleY(y);
        path += (i===0?`M${X},${Y}`:` L${X},${Y}`);
      }

      // ‡πÇ‡∏ã‡∏ô‡∏£‡∏∞‡∏ö‡∏≤‡∏¢
      function clipPathForArea(){
        let left=a, right=a;
        if(mode==='left'){ left = xMin; right = a; }
        else if(mode==='right'){ left = a; right = xMax; }
        else { left = Math.max(a2, xMin); right = Math.min(b2, xMax); }
        if(left>right){ const t=left; left=right; right=t; }
        const L = Math.max(xMin, left), R = Math.min(xMax, right);

        let p = `M${scaleX(L)},${scaleY(0)} `;
        const steps=200;
        for(let i=0;i<=steps;i++){
          const x = L + (R-L)*i/steps;
          const z = (x - mean)/se;
          const y = pdfStd(z)/se;
          p += `L${scaleX(x)},${scaleY(y)} `;
        }
        p += `L${scaleX(R)},${scaleY(0)} Z`;
        return p;
      }

      // ‡πÅ‡∏Å‡∏ô & ticks
      let ticks=''; const T=8;
      for(let i=0;i<=T;i++){
        const x = xMin + (xMax-xMin)*i/T;
        const X = scaleX(x);
        ticks += `<line x1="${X}" y1="${H-pad.b}" x2="${X}" y2="${H-pad.b+6}" stroke="#223049"/>`;
        ticks += `<text x="${X}" y="${H-pad.b+18}" font-size="10" fill="#cfe0ff" text-anchor="middle">${fmt(x)}</text>`;
      }

      const svg = `
        <svg viewBox="0 0 ${W} ${H}">
          <defs></defs>
          <rect x="0" y="0" width="${W}" height="${H}" fill="#0a0e19"/>
          <g>
            <line x1="${pad.l}" y1="${H-pad.b}" x2="${W-pad.r}" y2="${H-pad.b}" stroke="#223049"/>
            <line x1="${pad.l}" y1="${pad.t}" x2="${pad.l}" y2="${H-pad.b}" stroke="#223049"/>
            ${ticks}
            <text x="${W-pad.r}" y="${H-8}" fill="#cfe0ff" font-size="10" text-anchor="end">‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</text>
            <text x="${pad.l-10}" y="${pad.t+10}" fill="#cfe0ff" font-size="10" text-anchor="end">PDF</text>
          </g>
          <path d="${clipPathForArea()}" fill="#4f8cff" opacity="0.42">
            <title>‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</title>
          </path>
          <path d="${path}" fill="none" stroke="#15b588" stroke-width="2"/>
          <line x1="${scaleX(mean)}" y1="${pad.t}" x2="${scaleX(mean)}" y2="${H-pad.b}" stroke="#274061" stroke-dasharray="6 6"/>
          <g fill="#cfe0ff" font-size="10">
            <text x="${scaleX(mean)}" y="${pad.t+12}" text-anchor="middle">mean</text>
          </g>
        </svg>
      `;
      box.innerHTML = svg;
    }

    // Bind redraw on inputs
    ['mu','sd','n','ppop','n2','aVal','aVal2','bVal2'].forEach(id=>{
      const el = document.getElementById(id);
      if(el) el.addEventListener('input', drawChart);
    });

    // initial draw
    drawChart();
  </script>
</body>
</html>
