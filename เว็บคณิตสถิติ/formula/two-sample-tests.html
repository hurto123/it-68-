<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ทดสอบผลต่างสองกลุ่ม | อธิบายสูตร</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="stylesheet" href="../print.css" media="print" />
  <script>
    window.MathJax = { tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] }, svg: { fontCache: 'global' } };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <main class="formula-page">
    <section class="formula-hero">
      <h1>ทดสอบผลต่างสองกลุ่ม</h1>
      <p class="muted">เลือกสูตรให้เหมาะกับความแปรปรวนและประเภทข้อมูล</p>
      <div class="formula-meta">
        <span>อัปเดต 7 ต.ค. 2025</span>
        <span>บทที่เกี่ยวข้อง: 21</span>
      </div>
      <div class="formula-actions">
        <a class="btn secondary" href="../lesson21.html">เปิดบทเรียน</a>
        <a class="btn ghost" href="../summary-lesson21.html">ดูสรุป</a>
      </div>
    </section>

    <section id="toc" class="formula-section toc">
      <h2>สารบัญ</h2>
      <ol class="formula-toc">
        <li><a href="#t-pooled">t-test (Pooled) สำหรับค่าเฉลี่ยสองกลุ่ม</a></li>
        <li><a href="#t-welch">t-test (Welch) สำหรับค่าเฉลี่ยสองกลุ่ม</a></li>
        <li><a href="#z-prop-diff">Z-test สำหรับผลต่างสัดส่วน</a></li>
      </ol>
    </section>

    <section id="t-pooled" class="formula-section">
      <h2>t-test (Pooled) สำหรับค่าเฉลี่ยสองกลุ่ม</h2>
      <p class="section-subtitle">ใช้เมื่อสมมติว่าความแปรปรวนของสองประชากรเท่ากัน</p>
      <div class="formula-callout">\[ t = \frac{(\bar X_1-\bar X_2) - (\mu_1-\mu_2)_0}{\sqrt{S_p^2\left(\tfrac{1}{n_1}+\tfrac{1}{n_2}\right)}}, \quad df = n_1+n_2-2 \]</div>
      <div class="formula-grid">
        <article class="formula-card">
          <h3>เป้าหมาย</h3>
          <p>ทดสอบว่าผลต่างค่าเฉลี่ยจริงเป็นศูนย์ (หรือเท่าค่าเป้าหมาย) หรือไม่ในกรณีที่ความแปรปรวนใกล้เคียง</p>
        </article>
        <article class="formula-card">
          <h3>สัญลักษณ์</h3>
          <dl class="symbol-list">
            <div><dt>\((\mu_1-\mu_2)_0\)</dt><dd>ค่าผลต่างภายใต้ H₀ (มักเท่ากับ 0)</dd></div>
            <div><dt>\(S_p^2\)</dt><dd>Pooled variance ดูสูตรในหน้า CI ผลต่างสองกลุ่ม</dd></div>
          </dl>
        </article>
        <article class="formula-card">
          <h3>วิธีทำ</h3>
          <ol>
            <li>ตรวจสอบเงื่อนไข: สุ่มอิสระ, ความแปรปรวนใกล้เคียง, การแจกแจงใกล้ปกติ</li>
            <li>คำนวณ \(S_p^2\) และ \(SE\)</li>
            <li>หาสถิติ t แล้วเปรียบเทียบกับ critical หรือ p-value</li>
          </ol>
        </article>
        <article class="formula-card">
          <h3>ตัวอย่าง</h3>
          <p>ต่อยอดจากตัวอย่าง CI: ทดสอบ H₀: \(\mu_1-\mu_2 = 0\) ที่ \(\alpha = 0.05\)</p>
          <p>\(t = \frac{74-80}{2.52} = -2.38\). ค่า critical สองหาง df=40 คือ ±2.021 ⇒ ปฏิเสธ H₀</p>
        </article>
        <article class="formula-card">
          <h3>ข้อควรระวัง</h3>
          <ul>
            <li>หากมีหลักฐานว่าความแปรปรวนต่างกัน ให้ใช้สูตร Welch (ด้านล่าง)</li>
            <li>จัดเรียงกลุ่มให้ชัดเจนเพื่อหลีกเลี่ยงการตีความทิศทางผิด</li>
          </ul>
        </article>
      </div>
      <p class="back-to-top"><a href="#toc">↑ กลับไปสารบัญ</a></p>
    </section>

    <section id="t-welch" class="formula-section">
      <h2>t-test (Welch) สำหรับค่าเฉลี่ยสองกลุ่ม</h2>
      <p class="section-subtitle">ใช้เมื่อความแปรปรวนไม่เท่ากันหรือขนาดตัวอย่างต่างกันมาก</p>
      <div class="formula-callout">\[ t = \frac{(\bar X_1-\bar X_2) - (\mu_1-\mu_2)_0}{\sqrt{\tfrac{s_1^2}{n_1}+\tfrac{s_2^2}{n_2}}}, \quad df \approx \frac{(s_1^2/n_1 + s_2^2/n_2)^2}{\tfrac{(s_1^2/n_1)^2}{n_1-1} + \tfrac{(s_2^2/n_2)^2}{n_2-1}} \]</div>
      <div class="formula-grid">
        <article class="formula-card">
          <h3>เป้าหมาย</h3>
          <p>ลดความเสี่ยงจากการสมมติผิดเกี่ยวกับความแปรปรวน โดยให้แต่ละกลุ่มมีน้ำหนักตามความไม่แน่นอนของตนเอง</p>
        </article>
        <article class="formula-card">
          <h3>สัญลักษณ์</h3>
          <dl class="symbol-list">
            <div><dt>\(s_i^2\)</dt><dd>ความแปรปรวนของกลุ่มที่ \(i\)</dd></div>
            <div><dt>\(df\)</dt><dd>องศาอิสระแบบ Welch (คำนวณตามสูตรด้านบน)</dd></div>
          </dl>
        </article>
        <article class="formula-card">
          <h3>วิธีทำ</h3>
          <ol>
            <li>คำนวณ SE ด้วย \(\sqrt{s_1^2/n_1 + s_2^2/n_2}\)</li>
            <li>คำนวณ df ตามสูตร Welch</li>
            <li>ใช้ค่าดังกล่าวในสูตร t และสรุปผลเหมือนการทดสอบทั่วไป</li>
          </ol>
        </article>
        <article class="formula-card">
          <h3>ตัวอย่าง</h3>
          <p>หากความแปรปรวนของสองกลุ่มต่างกันมาก (เช่น 16 vs 64) ให้ใช้ Welch เพื่อให้ค่าทดสอบสะท้อนความไม่สมดุล</p>
        </article>
        <article class="formula-card">
          <h3>ข้อควรระวัง</h3>
          <ul>
            <li>สูตร df อาจให้ค่าทศนิยม — ใช้โปรแกรมหรือเครื่องคิดเลขช่วย</li>
            <li>ยังคงต้องตรวจสอบการสุ่มอิสระและความเป็นปกติ</li>
          </ul>
        </article>
      </div>
      <p class="back-to-top"><a href="#toc">↑ กลับไปสารบัญ</a></p>
    </section>

    <section id="z-prop-diff" class="formula-section">
      <h2>Z-test สำหรับผลต่างสัดส่วน</h2>
      <p class="section-subtitle">เปรียบเทียบสัดส่วนของสองกลุ่มอิสระ เช่น CTR ของแคมเปญ A/B</p>
      <div class="formula-callout">\[ Z = \frac{(\hat p_1-\hat p_2) - (p_1-p_2)_0}{\sqrt{\hat p(1-\hat p)\left(\tfrac{1}{n_1}+\tfrac{1}{n_2}\right)}} \]
        <p class="muted">โดย \(\hat p = \frac{x_1+x_2}{n_1+n_2}\) เป็นสัดส่วนรวมภายใต้ H₀: \(p_1=p_2\)</p>
      </div>
      <div class="formula-grid">
        <article class="formula-card">
          <h3>เป้าหมาย</h3>
          <p>ทดสอบว่าความแตกต่างของสัดส่วนระหว่างสองกลุ่มมีนัยสำคัญหรือไม่</p>
        </article>
        <article class="formula-card">
          <h3>สัญลักษณ์</h3>
          <dl class="symbol-list">
            <div><dt>\(x_i\)</dt><dd>จำนวนความสำเร็จในกลุ่มที่ \(i\)</dd></div>
            <div><dt>\(\hat p\)</dt><dd>สัดส่วนรวมภายใต้ H₀</dd></div>
            <div><dt>\((p_1-p_2)_0\)</dt><dd>ค่าผลต่างที่สมมติ (มักเท่ากับ 0)</dd></div>
          </dl>
        </article>
        <article class="formula-card">
          <h3>วิธีทำ</h3>
          <ol>
            <li>ตรวจสอบ \(n_i\hat p_i\) และ \(n_i(1-\hat p_i)\) ≥ 10 สำหรับทั้งสองกลุ่ม</li>
            <li>คำนวณสัดส่วนรวม \(\hat p\) และ SE</li>
            <li>คำนวณ Z และเปรียบเทียบกับ critical/p-value ตามทิศทาง</li>
          </ol>
        </article>
        <article class="formula-card">
          <h3>ตัวอย่าง</h3>
          <p>ต่อยอดจากตัวอย่าง CI: A มี 81/300, B มี 40/250, ทดสอบ H₀: \(p_1 = p_2\)</p>
          <ol>
            <li>\(\hat p = (81+40)/(300+250) = 0.222\)</li>
            <li>\(SE = \sqrt{0.222(0.778)(1/300 + 1/250)} = 0.034\)</li>
            <li>\(Z = (0.27-0.16)/0.034 = 3.24\) ⇒ ปฏิเสธ H₀ ที่ \(\alpha = 0.05\)</li>
          </ol>
        </article>
        <article class="formula-card">
          <h3>ข้อควรระวัง</h3>
          <ul>
            <li>ถ้า H₀ ไม่ได้สมมติว่า \(p_1 = p_2\) ให้ใช้สูตร SE ที่ตรงกับค่าที่สมมติ</li>
            <li>รายงานผลทั้งค่า Z, p-value และขนาดผล (ส่วนต่าง/CI) เพื่อความสมบูรณ์</li>
          </ul>
        </article>
      </div>
      <p class="back-to-top"><a href="#toc">↑ กลับไปสารบัญ</a></p>
    </section>
  </main>
</body>
</html>
