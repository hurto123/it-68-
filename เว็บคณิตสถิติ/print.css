/* ========== Print Optimizations (รุ่น 1.1) ========== */
@media print {
  @page {
    margin: 16mm 14mm 18mm 14mm;
  }

  html, body {
    background: #fff !important;
    color: #000 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    font-size: 11pt;
    line-height: 1.45;
  }

  * {
    background-image: none !important;
    box-shadow: none !important;
  }

  header, footer, .searchbar, .actions, nav[aria-label="นำทางบทเรียน"] .chips,
  .chip, .pill, .btn, .footnav, .chips,
  .reading-toolbar, .reading-progress, .reading-toc {
    filter: none !important;
  }

  nav, .chips, .searchbar, .actions, .btn, .chip, .pill, .footnav,
  .reading-toolbar, .reading-progress, .reading-toc {
    display: none !important;
  }

  main, .wrap {
    max-width: 100% !important;
    padding: 0 !important;
  }

  h1, h2, h3, h4 {
    color: #000 !important;
    page-break-after: avoid;
  }

  .card, section, figure, table {
    background: #fff !important;
    border: 1px solid #bbb !important;
    border-radius: 0 !important;
    margin: 0 0 12pt 0 !important;
    padding: 10pt 12pt !important;
    break-inside: avoid;
  }

  .svgbox {
    background: #fff !important;
    border: 1px solid #999 !important;
    padding: 8pt !important;
  }

  .svgbox svg {
    background: #fff !important;
    color: #000 !important;
  }

  table {
    width: 100% !important;
    border-collapse: collapse !important;
  }

  th, td {
    border: 1px solid #999 !important;
    padding: 6pt !important;
    color: #000 !important;
  }

  figcaption, caption, .muted {
    color: #333 !important;
  }

  .note, .ok, .warn {
    border-left-width: 3pt !important;
    padding: 8pt !important;
    color: #000 !important;
  }

  a {
    color: #000 !important;
    text-decoration: underline !important;
  }

  #formula, #summaries {
    page-break-before: always;
    break-before: page;
  }
}

/* Harmonize inference summary pages when printing */
@media print {
  body.summary-inference,
  body.summary-compilation {
    background: #ffffff !important;
    color: #111827 !important;
  }

  body.summary-inference .card,
  body.summary-inference .highlight,
  body.summary-inference .warn,
  body.summary-compilation .card,
  body.summary-compilation article,
  body.summary-compilation .toc,
  body.summary-compilation .highlight,
  body.summary-compilation .warn {
    background: #ffffff !important;
    color: #111827 !important;
    box-shadow: none !important;
    border-color: rgba(0, 0, 0, 0.15) !important;
  }

  body.summary-inference .tagline,
  body.summary-compilation .tagline {
    background: rgba(17, 24, 39, 0.08) !important;
    color: #111827 !important;
    border-color: rgba(0, 0, 0, 0.25) !important;
  }

  body.summary-inference .highlight,
  body.summary-compilation .highlight {
    border-left-color: #15803d !important;
  }

  body.summary-inference .warn,
  body.summary-compilation .warn {
    border-left-color: #d97706 !important;
  }

  body.summary-compilation .toc-list a {
    background: transparent !important;
    color: #111827 !important;
    border: 1px solid rgba(0, 0, 0, 0.12) !important;
  }
}
